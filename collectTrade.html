<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>ButtonCraft Cards ONLINE!</title>
  <link href="styleCollect.css" rel="stylesheet" type="text/css" />
  <link rel="icon" type="image/png" href="BCC_Icon.png">
</head>

<body oncontextmenu="return false;">

  <div class=logoBack><a class=logoLink href="index.html"><img class=logo src="BCC_Logo.png"></img></a></div>
  <div class=line></div>

  <div class="topnav">
    <a href="collectAll.html">All Cards</a>
    <a href="collectSets.html">Sets Checklist</a>
    <a href="collectCompare.html">Compare</a>
    <a class="active" href="collectTrade.html">Trading</a>
    <a href="collectMission.html">Mission</a>
    <a href="collectGem.html">DCGem</a>
    <a href="collectDC.html">DCMetro</a>
    <a href="collectVoid.html">VoidMax</a>
    <a href="collectZav.html">Zaveeya</a>
  </div>

  <div class=line></div>

  <img class=pack src="Pack.png" onClick="hide()"></img>
  <h3 class=owned></h3>

  <h2 class=resultTitle>Trade Cards</h2>

  <h3>Your Trade List:</h3>
  <ul class=tradeList>
    <li><img class=d0 src="Pack.png" onClick="removeFromTradeList('d0')"></img></li>
    <li><img class=d1 src="Pack.png" onClick="removeFromTradeList('d1')"></img></li>
    <li><img class=d2 src="Pack.png" onClick="removeFromTradeList('d2')"></img></li>
    <li><img class=d3 src="Pack.png" onClick="removeFromTradeList('d3')"></img></li>
    <li><img class=d4 src="Pack.png" onClick="removeFromTradeList('d4')"></img></li>
    <li><img class=d5 src="Pack.png" onClick="removeFromTradeList('d5')"></img></li>
  </ul>

  Trading with
  <select name="Tplayers" class="Tplayers">
    <option class=t2 value="dc">DCMetro</option>
    <option class=t3 value="gem">DCGem</option>
    <option class=t4 value="void">VoidMax</option>
    <option class=t5 value="zav">Zaveeya</option>
  </select>

  <button class=compare onClick="selectTrade()">Search</button>
  <button class=compare onClick="selectTrade()">Confirm Trade</button>

  <ul class=resultList>
    <li><img class=c0 src="Pack.png" onClick="moveToTradeList('c0')"></img></li>
    <li><img class=c1 src="Pack.png" onClick="moveToTradeList('c1')"></img></li>
    <li><img class=c2 src="Pack.png" onClick="moveToTradeList('c2')"></img></li>
    <li><img class=c3 src="Pack.png" onClick="moveToTradeList('c3')"></img></li>
    <li><img class=c4 src="Pack.png" onClick="moveToTradeList('c4')"></img></li>
    <li><img class=c5 src="Pack.png" onClick="moveToTradeList('c5')"></img></li>
    <li><img class=c6 src="Pack.png" onClick="moveToTradeList('c6')"></img></li>
    <li><img class=c7 src="Pack.png" onClick="moveToTradeList('c7')"></img></li>
    <li><img class=c8 src="Pack.png" onClick="moveToTradeList('c8')"></img></li>
    <li><img class=c9 src="Pack.png" onClick="moveToTradeList('c9')"></img></li>
    <li><img class=c10 src="Pack.png" onClick="moveToTradeList('c10')"></img></li>
    <li><img class=c11 src="Pack.png" onClick="manageCard('c11')"></img></li>
    <li><img class=c12 src="Pack.png" onClick="manageCard('c12')"></img></li>
    <li><img class=c13 src="Pack.png" onClick="manageCard('c13')"></img></li>
    <li><img class=c14 src="Pack.png" onClick="manageCard('c14')"></img></li>
    <li><img class=c15 src="Pack.png" onClick="manageCard('c15')"></img></li>
    <li><img class=c16 src="Pack.png" onClick="manageCard('c16')"></img></li>
    <li><img class=c17 src="Pack.png" onClick="manageCard('c17')"></img></li>
    <li><img class=c18 src="Pack.png" onClick="manageCard('c18')"></img></li>
    <li><img class=c19 src="Pack.png" onClick="manageCard('c19')"></img></li>
    <li><img class=c20 src="Pack.png" onClick="manageCard('c20')"></img></li>
    <li><img class=c21 src="Pack.png" onClick="manageCard('c21')"></img></li>
    <li><img class=c22 src="Pack.png" onClick="manageCard('c22')"></img></li>
    <li><img class=c23 src="Pack.png" onClick="manageCard('c23')"></img></li>
    <li><img class=c24 src="Pack.png" onClick="manageCard('c24')"></img></li>
    <li><img class=c25 src="Pack.png" onClick="manageCard('c25')"></img></li>
    <li><img class=c26 src="Pack.png" onClick="manageCard('c26')"></img></li>
    <li><img class=c27 src="Pack.png" onClick="manageCard('c27')"></img></li>
    <li><img class=c28 src="Pack.png" onClick="manageCard('c28')"></img></li>
    <li><img class=c29 src="Pack.png" onClick="manageCard('c29')"></img></li>
    <li><img class=c30 src="Pack.png" onClick="manageCard('c30')"></img></li>
    <li><img class=c31 src="Pack.png" onClick="manageCard('c31')"></img></li>
    <li><img class=c32 src="Pack.png" onClick="manageCard('c32')"></img></li>
    <li><img class=c33 src="Pack.png" onClick="manageCard('c33')"></img></li>
    <li><img class=c34 src="Pack.png" onClick="manageCard('c34')"></img></li>
    <li><img class=c35 src="Pack.png" onClick="manageCard('c35')"></img></li>
    <li><img class=c36 src="Pack.png" onClick="manageCard('c36')"></img></li>
    <li><img class=c37 src="Pack.png" onClick="manageCard('c37')"></img></li>
    <li><img class=c38 src="Pack.png" onClick="manageCard('c38')"></img></li>
    <li><img class=c39 src="Pack.png" onClick="manageCard('c39')"></img></li>
    <li><img class=c40 src="Pack.png" onClick="manageCard('c40')"></img></li>
    <li><img class=c41 src="Pack.png" onClick="manageCard('c41')"></img></li>
    <li><img class=c42 src="Pack.png" onClick="manageCard('c42')"></img></li>
    <li><img class=c43 src="Pack.png" onClick="manageCard('c43')"></img></li>
    <li><img class=c44 src="Pack.png" onClick="manageCard('c44')"></img></li>
    <li><img class=c45 src="Pack.png" onClick="manageCard('c45')"></img></li>
    <li><img class=c46 src="Pack.png" onClick="manageCard('c46')"></img></li>
    <li><img class=c47 src="Pack.png" onClick="manageCard('c47')"></img></li>
    <li><img class=c48 src="Pack.png" onClick="manageCard('c48')"></img></li>
    <li><img class=c49 src="Pack.png" onClick="manageCard('c49')"></img></li>
    <li><img class=c50 src="Pack.png" onClick="manageCard('c50')"></img></li>
    <li><img class=c51 src="Pack.png" onClick="manageCard('c51')"></img></li>
    <li><img class=c52 src="Pack.png" onClick="manageCard('c52')"></img></li>
    <li><img class=c53 src="Pack.png" onClick="manageCard('c53')"></img></li>
    <li><img class=c54 src="Pack.png" onClick="manageCard('c54')"></img></li>
    <li><img class=c55 src="Pack.png" onClick="manageCard('c55')"></img></li>
    <li><img class=c56 src="Pack.png" onClick="manageCard('c56')"></img></li>
    <li><img class=c57 src="Pack.png" onClick="manageCard('c57')"></img></li>
    <li><img class=c58 src="Pack.png" onClick="manageCard('c58')"></img></li>
    <li><img class=c59 src="Pack.png" onClick="manageCard('c59')"></img></li>
    <li><img class=c60 src="Pack.png" onClick="manageCard('c60')"></img></li>
    <li><img class=c61 src="Pack.png" onClick="manageCard('c61')"></img></li>
    <li><img class=c62 src="Pack.png" onClick="manageCard('c62')"></img></li>
    <li><img class=c63 src="Pack.png" onClick="manageCard('c63')"></img></li>
    <li><img class=c64 src="Pack.png" onClick="manageCard('c64')"></img></li>
    <li><img class=c65 src="Pack.png" onClick="manageCard('c65')"></img></li>
    <li><img class=c66 src="Pack.png" onClick="manageCard('c66')"></img></li>
    <li><img class=c67 src="Pack.png" onClick="manageCard('c67')"></img></li>
    <li><img class=c68 src="Pack.png" onClick="manageCard('c68')"></img></li>
    <li><img class=c69 src="Pack.png" onClick="manageCard('c69')"></img></li>
    <li><img class=c70 src="Pack.png" onClick="manageCard('c70')"></img></li>
    <li><img class=c71 src="Pack.png" onClick="manageCard('c71')"></img></li>
    <li><img class=c72 src="Pack.png" onClick="manageCard('c72')"></img></li>
    <li><img class=c73 src="Pack.png" onClick="manageCard('c73')"></img></li>
    <li><img class=c74 src="Pack.png" onClick="manageCard('c74')"></img></li>
    <li><img class=c75 src="Pack.png" onClick="manageCard('c75')"></img></li>
    <li><img class=c76 src="Pack.png" onClick="manageCard('c76')"></img></li>
    <li><img class=c77 src="Pack.png" onClick="manageCard('c77')"></img></li>
    <li><img class=c78 src="Pack.png" onClick="manageCard('c78')"></img></li>
    <li><img class=c79 src="Pack.png" onClick="manageCard('c79')"></img></li>
    <li><img class=c80 src="Pack.png" onClick="manageCard('c80')"></img></li>
    <li><img class=c81 src="Pack.png" onClick="manageCard('c81')"></img></li>
    <li><img class=c82 src="Pack.png" onClick="manageCard('c82')"></img></li>
    <li><img class=c83 src="Pack.png" onClick="manageCard('c83')"></img></li>
    <li><img class=c84 src="Pack.png" onClick="manageCard('c84')"></img></li>
    <li><img class=c85 src="Pack.png" onClick="manageCard('c85')"></img></li>
    <li><img class=c86 src="Pack.png" onClick="manageCard('c86')"></img></li>
    <li><img class=c87 src="Pack.png" onClick="manageCard('c87')"></img></li>
    <li><img class=c88 src="Pack.png" onClick="manageCard('c88')"></img></li>
    <li><img class=c89 src="Pack.png" onClick="manageCard('c89')"></img></li>
    <li><img class=c90 src="Pack.png" onClick="manageCard('c90')"></img></li>
    <li><img class=c91 src="Pack.png" onClick="manageCard('c91')"></img></li>
    <li><img class=c92 src="Pack.png" onClick="manageCard('c92')"></img></li>
    <li><img class=c93 src="Pack.png" onClick="manageCard('c93')"></img></li>
    <li><img class=c94 src="Pack.png" onClick="manageCard('c94')"></img></li>
    <li><img class=c95 src="Pack.png" onClick="manageCard('c95')"></img></li>
    <li><img class=c96 src="Pack.png" onClick="manageCard('c96')"></img></li>
    <li><img class=c97 src="Pack.png" onClick="manageCard('c97')"></img></li>
    <li><img class=c98 src="Pack.png" onClick="manageCard('c98')"></img></li>
    <li><img class=c99 src="Pack.png" onClick="manageCard('c99')"></img></li>
    <li><img class=c100 src="Pack.png" onClick="manageCard('c100')"></img></li>
    <li><img class=c101 src="Pack.png" onClick="manageCard('c101')"></img></li>
    <li><img class=c102 src="Pack.png" onClick="manageCard('c102')"></img></li>
    <li><img class=c103 src="Pack.png" onClick="manageCard('c103')"></img></li>
    <li><img class=c104 src="Pack.png" onClick="manageCard('c104')"></img></li>
    <li><img class=c105 src="Pack.png" onClick="manageCard('c105')"></img></li>
    <li><img class=c106 src="Pack.png" onClick="manageCard('c106')"></img></li>
    <li><img class=c107 src="Pack.png" onClick="manageCard('c107')"></img></li>
    <li><img class=c108 src="Pack.png" onClick="manageCard('c108')"></img></li>
    <li><img class=c109 src="Pack.png" onClick="manageCard('c109')"></img></li>
    <li><img class=c110 src="Pack.png" onClick="manageCard('c110')"></img></li>
    <li><img class=c111 src="Pack.png" onClick="manageCard('c111')"></img></li>
    <li><img class=c112 src="Pack.png" onClick="manageCard('c112')"></img></li>
    <li><img class=c113 src="Pack.png" onClick="manageCard('c113')"></img></li>
    <li><img class=c114 src="Pack.png" onClick="manageCard('c114')"></img></li>
    <li><img class=c115 src="Pack.png" onClick="manageCard('c115')"></img></li>
    <li><img class=c116 src="Pack.png" onClick="manageCard('c116')"></img></li>
    <li><img class=c117 src="Pack.png" onClick="manageCard('c117')"></img></li>
    <li><img class=c118 src="Pack.png" onClick="manageCard('c118')"></img></li>
    <li><img class=c119 src="Pack.png" onClick="manageCard('c119')"></img></li>
    <li><img class=c120 src="Pack.png" onClick="manageCard('c120')"></img></li>
    <li><img class=c121 src="Pack.png" onClick="manageCard('c121')"></img></li>
    <li><img class=c122 src="Pack.png" onClick="manageCard('c122')"></img></li>
    <li><img class=c123 src="Pack.png" onClick="manageCard('c123')"></img></li>
    <li><img class=c124 src="Pack.png" onClick="manageCard('c124')"></img></li>
    <li><img class=c125 src="Pack.png" onClick="manageCard('c125')"></img></li>
    <li><img class=c126 src="Pack.png" onClick="manageCard('c126')"></img></li>
    <li><img class=c127 src="Pack.png" onClick="manageCard('c127')"></img></li>
    <li><img class=c128 src="Pack.png" onClick="manageCard('c128')"></img></li>
    <li><img class=c129 src="Pack.png" onClick="manageCard('c129')"></img></li>
    <li><img class=c130 src="Pack.png" onClick="manageCard('c130')"></img></li>
    <li><img class=c131 src="Pack.png" onClick="manageCard('c131')"></img></li>
    <li><img class=c132 src="Pack.png" onClick="manageCard('c132')"></img></li>
    <li><img class=c133 src="Pack.png" onClick="manageCard('c133')"></img></li>
    <li><img class=c134 src="Pack.png" onClick="manageCard('c134')"></img></li>
    <li><img class=c135 src="Pack.png" onClick="manageCard('c135')"></img></li>
    <li><img class=c136 src="Pack.png" onClick="manageCard('c136')"></img></li>
    <li><img class=c137 src="Pack.png" onClick="manageCard('c137')"></img></li>
    <li><img class=c138 src="Pack.png" onClick="manageCard('c138')"></img></li>
    <li><img class=c139 src="Pack.png" onClick="manageCard('c139')"></img></li>
    <li><img class=c140 src="Pack.png" onClick="manageCard('c140')"></img></li>
    <li><img class=c141 src="Pack.png" onClick="manageCard('c141')"></img></li>
    <li><img class=c142 src="Pack.png" onClick="manageCard('c142')"></img></li>
    <li><img class=c143 src="Pack.png" onClick="manageCard('c143')"></img></li>
    <li><img class=c144 src="Pack.png" onClick="manageCard('c144')"></img></li>
    <li><img class=c145 src="Pack.png" onClick="manageCard('c145')"></img></li>
    <li><img class=c146 src="Pack.png" onClick="manageCard('c146')"></img></li>
    <li><img class=c147 src="Pack.png" onClick="manageCard('c147')"></img></li>
    <li><img class=c148 src="Pack.png" onClick="manageCard('c148')"></img></li>
    <li><img class=c149 src="Pack.png" onClick="manageCard('c149')"></img></li>
    <li><img class=c150 src="Pack.png" onClick="manageCard('c150')"></img></li>
    <li><img class=c151 src="Pack.png" onClick="manageCard('c151')"></img></li>
    <li><img class=c152 src="Pack.png" onClick="manageCard('c152')"></img></li>
    <li><img class=c153 src="Pack.png" onClick="manageCard('c153')"></img></li>
    <li><img class=c154 src="Pack.png" onClick="manageCard('c154')"></img></li>
    <li><img class=c155 src="Pack.png" onClick="manageCard('c155')"></img></li>
    <li><img class=c156 src="Pack.png" onClick="manageCard('c156')"></img></li>
    <li><img class=c157 src="Pack.png" onClick="manageCard('c157')"></img></li>
    <li><img class=c158 src="Pack.png" onClick="manageCard('c158')"></img></li>
    <li><img class=c159 src="Pack.png" onClick="manageCard('c159')"></img></li>
    <li><img class=c160 src="Pack.png" onClick="manageCard('c160')"></img></li>
    <li><img class=c161 src="Pack.png" onClick="manageCard('c161')"></img></li>
    <li><img class=c162 src="Pack.png" onClick="manageCard('c162')"></img></li>
    <li><img class=c163 src="Pack.png" onClick="manageCard('c163')"></img></li>
    <li><img class=c164 src="Pack.png" onClick="manageCard('c164')"></img></li>
    <li><img class=c165 src="Pack.png" onClick="manageCard('c165')"></img></li>
    <li><img class=c166 src="Pack.png" onClick="manageCard('c166')"></img></li>
    <li><img class=c167 src="Pack.png" onClick="manageCard('c167')"></img></li>
    <li><img class=c168 src="Pack.png" onClick="manageCard('c168')"></img></li>
    <li><img class=c169 src="Pack.png" onClick="manageCard('c169')"></img></li>
    <li><img class=c170 src="Pack.png" onClick="manageCard('c170')"></img></li>
    <li><img class=c171 src="Pack.png" onClick="manageCard('c171')"></img></li>
    <li><img class=c172 src="Pack.png" onClick="manageCard('c172')"></img></li>
    <li><img class=c173 src="Pack.png" onClick="manageCard('c173')"></img></li>
    <li><img class=c174 src="Pack.png" onClick="manageCard('c174')"></img></li>
    <li><img class=c175 src="Pack.png" onClick="manageCard('c175')"></img></li>
    <li><img class=c176 src="Pack.png" onClick="manageCard('c176')"></img></li>
    <li><img class=c177 src="Pack.png" onClick="manageCard('c177')"></img></li>
    <li><img class=c178 src="Pack.png" onClick="manageCard('c178')"></img></li>
    <li><img class=c179 src="Pack.png" onClick="manageCard('c179')"></img></li>
    <li><img class=c180 src="Pack.png" onClick="manageCard('c180')"></img></li>
    <li><img class=c181 src="Pack.png" onClick="manageCard('c181')"></img></li>
    <li><img class=c182 src="Pack.png" onClick="manageCard('c182')"></img></li>
    <li><img class=c183 src="Pack.png" onClick="manageCard('c183')"></img></li>
    <li><img class=c184 src="Pack.png" onClick="manageCard('c184')"></img></li>
    <li><img class=c185 src="Pack.png" onClick="manageCard('c185')"></img></li>
    <li><img class=c186 src="Pack.png" onClick="manageCard('c186')"></img></li>
    <li><img class=c187 src="Pack.png" onClick="manageCard('c187')"></img></li>
    <li><img class=c188 src="Pack.png" onClick="manageCard('c188')"></img></li>
    <li><img class=c189 src="Pack.png" onClick="manageCard('c189')"></img></li>
    <li><img class=c190 src="Pack.png" onClick="manageCard('c190')"></img></li>
    <li><img class=c191 src="Pack.png" onClick="manageCard('c191')"></img></li>
    <li><img class=c192 src="Pack.png" onClick="manageCard('c192')"></img></li>
    <li><img class=c193 src="Pack.png" onClick="manageCard('c193')"></img></li>
    <li><img class=c194 src="Pack.png" onClick="manageCard('c194')"></img></li>
    <li><img class=c195 src="Pack.png" onClick="manageCard('c195')"></img></li>
    <li><img class=c196 src="Pack.png" onClick="manageCard('c196')"></img></li>
    <li><img class=c197 src="Pack.png" onClick="manageCard('c197')"></img></li>
    <li><img class=c198 src="Pack.png" onClick="manageCard('c198')"></img></li>
    <li><img class=c199 src="Pack.png" onClick="manageCard('c199')"></img></li>
  </ul>

  
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCLjx4Ys4qnzMfRog74NExTUHdZism8u-I",
      authDomain: "buttoncards.firebaseapp.com",
      databaseURL: "https://buttoncards-default-rtdb.firebaseio.com",
      projectId: "buttoncards",
      storageBucket: "buttoncards.firebasestorage.app",
      messagingSenderId: "1001795754069",
      appId: "1:1001795754069:web:1cbf4305a68f9b45eb5cdc",
      measurementId: "G-F56PTH5YNL"
    };
  
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

  </script>
  <script>
    let tradeCards = []; // Array to store the cards added to the trade list
    
    // Move the card to the trade list when clicked in resultList
    function moveToTradeList(cardClass) {
      console.log('move ' + cardClass);
      const cardElement = document.querySelector(`.${cardClass}`);
    
      // Add the card to the trade list
      const cardImage = cardElement.src; // Get the image source of the card
      const tradeSlot = findEmptyTradeSlot();
      
      if (tradeSlot !== null) {
        console.log('moving');
        // Mark the card as selected (faded) in resultList
        cardElement.style.opacity = "0.5";  // Fade out the card in the resultList
        cardElement.style.pointerEvents = "none";  // Disable further clicking
        
        // Store the card in the tradeCards array
        tradeCards.push(cardImage);
    
        // Update the corresponding tradeList slot with the card image
        const tradeSlotImage = tradeSlot.querySelector("img");
        tradeSlotImage.src = cardImage;
        tradeSlotImage.style.width = "110px"; // Set size for image
      }
    }
    
    // Remove the card from the trade list when clicked
    function removeFromTradeList(cardClass) {
        console.log('remove ' + cardClass);
        const tradeSlot = document.querySelector(`.${cardClass}`);
        const tradeSlotSrc = tradeSlot.src;
        //const tradeSlotImage = tradeSlot.querySelector("img");
      
        console.log('removing ' + tradeSlot);
        console.log('removing ' + tradeSlotSrc);
        // Ensure tradeSlotImage exists before accessing src
        if (tradeSlot !== null) {
          console.log('remover');
      
          // Find the index of the card in tradeCards array and remove it
          const cardIndex = tradeCards.indexOf(tradeSlot.src);
          
          if (cardIndex !== -1) {
            tradeCards.splice(cardIndex, 1);
          }
          
          console.log('remover' + tradeSlot.src);
          // Reset the trade slot to default (hide image and set to "Pack.png")
          tradeSlot.src = "Pack.png";
          tradeSlot.style.width = "0px";  // Hide image
      
          // Find a trade slot with the matching src to restore opacity
          const slotToRestore = findMatchingResultSlot(tradeSlot.src); // Find a trade slot with the matching src
          if (slotToRestore) {
            const cardElement = slotToRestore.querySelector("img");
            // Set opacity back to 1 and restore visibility in the result list
            cardElement.style.opacity = "1";  // Restore opacity
            cardElement.style.pointerEvents = "auto";  // Re-enable clicking
          }
        }
      }
      
      function findMatchingResultSlot(src) {
        console.log('find matching result slot');
        const resultListItems = document.querySelectorAll(".resultList li");
        
        for (let i = 0; i < resultListItems.length; i++) {
          const resultSlotImage = resultListItems[i].querySelector("img");
          
          // If a slot with matching src is found, return it
          if (resultSlotImage && resultSlotImage.src === src) {
            return resultListItems[i];
          }
        }
        
        return null; // No matching slot found
      }
    
    // Find the first empty slot in the tradeList
    function findEmptyTradeSlot() {
      console.log('find empty');
      const tradeListItems = document.querySelectorAll(".tradeList li");
    
      for (let i = 0; i < tradeListItems.length; i++) {
        console.log('search');
        const tradeSlotImage = tradeListItems[i].querySelector("img");
    
        if (tradeSlotImage.width === 0) {
          console.log('found');
          return tradeListItems[i];
        }
      }
      return null; // No empty slots available
    }
  </script>
  <script src="scriptCollect.js"></script>
</body>

</html>
